From 71cff7c3918a2a1f3acfe82a4f2eda3319b28a24 Mon Sep 17 00:00:00 2001
From: Michael Krummsdorf <michael.krummsdorf@tq-group.com>
Date: Wed, 28 May 2014 14:42:17 +0200
Subject: [PATCH] arm: mba28x: dt: upgrade device trees to 3.14

Signed-off-by: Michael Krummsdorf <michael.krummsdorf@tq-group.com>
---
 arch/arm/boot/dts/imx28-mba28.dts     |   83 ++++++++++++++++-----------------
 arch/arm/boot/dts/imx28-mba28l-aa.dts |   43 +++++++----------
 arch/arm/boot/dts/imx28-mba28l-ab.dts |   65 +++++++++++++-------------
 arch/arm/boot/dts/imx28-tqma28.dtsi   |   34 +++++++-------
 arch/arm/boot/dts/imx28-tqma28l.dtsi  |   34 +++++++-------
 5 files changed, 125 insertions(+), 134 deletions(-)

diff --git a/arch/arm/boot/dts/imx28-mba28.dts b/arch/arm/boot/dts/imx28-mba28.dts
index 04b82a4..3ce90e2 100644
--- a/arch/arm/boot/dts/imx28-mba28.dts
+++ b/arch/arm/boot/dts/imx28-mba28.dts
@@ -10,7 +10,6 @@
  */
 
 /dts-v1/;
-#include "imx28.dtsi"
 #include "imx28-tqma28.dtsi"
 
 / {
@@ -38,94 +37,94 @@
 				hog_pins_a: hog-gpios@0 {
 					reg = <0>;
 					fsl,pinmux-ids = <
-						0x40d3 /* MX28_PAD_ENET0_RX_CLK__GPIO_4_13 */
-						0x31e3 /* MX28_PAD_LCD_RESET__GPIO_3_30 */
-						0x3083 /* MX28_PAD_AUART2_RX__GPIO_3_8 */
-						0x3093 /* MX28_PAD_AUART2_TX__GPIO_3_9 */
+						MX28_PAD_ENET0_RX_CLK__GPIO_4_13
+						MX28_PAD_LCD_RESET__GPIO_3_30
+						MX28_PAD_AUART2_RX__GPIO_3_8
+						MX28_PAD_AUART2_TX__GPIO_3_9
 					>;
-					fsl,drive-strength = <1>;
-					fsl,voltage = <1>;
-					fsl,pull-up = <0>;
+					fsl,drive-strength = <MXS_DRIVE_8mA>;
+					fsl,voltage = <MXS_VOLTAGE_HIGH>;
+					fsl,pull-up = <MXS_PULL_DISABLE>;
 				};
 
 				i2c1_pins_b: i2c1@1 {
 					reg = <1>;
 					fsl,pinmux-ids = <
-						0x30a1 /* MX28_PAD_AUART2_CTS__I2C1_SCL */
-						0x30b1 /* MX28_PAD_AUART2_RTS__I2C1_SDA */
+						MX28_PAD_AUART2_CTS__I2C1_SCL
+						MX28_PAD_AUART2_RTS__I2C1_SDA
 					>;
-					fsl,drive-strength = <1>;
-					fsl,voltage = <1>;
-					fsl,pull-up = <0>;
+					fsl,drive-strength = <MXS_DRIVE_8mA>;
+					fsl,voltage = <MXS_VOLTAGE_HIGH>;
+					fsl,pull-up = <MXS_PULL_DISABLE>;
 				};
 
 				lcdif_24bit_pins_a: lcdif-24bit@0 {
-					fsl,drive-strength = <1>;
+					fsl,drive-strength = <MXS_DRIVE_8mA>;
 				};
 
 				lcdif_pins_mba28: lcdif-evk@0 {
 					reg = <0>;
 					fsl,pinmux-ids = <
-						0x11c0 /* MX28_PAD_LCD_VSYNC__LCD_VSYNC */
-						0x11d0 /* MX28_PAD_LCD_HSYNC__LCD_HSYNC */
-						0x11e0 /* MX28_PAD_LCD_DOTCLK__LCD_DOTCLK */
-						0x11f0 /* MX28_PAD_LCD_ENABLE__LCD_ENABLE */
+						MX28_PAD_LCD_VSYNC__LCD_VSYNC
+						MX28_PAD_LCD_HSYNC__LCD_HSYNC
+						MX28_PAD_LCD_DOTCLK__LCD_DOTCLK
+						MX28_PAD_LCD_ENABLE__LCD_ENABLE
 					>;
-					fsl,drive-strength = <1>;
-					fsl,voltage = <1>;
-					fsl,pull-up = <0>;
+					fsl,drive-strength = <MXS_DRIVE_8mA>;
+					fsl,voltage = <MXS_VOLTAGE_HIGH>;
+					fsl,pull-up = <MXS_PULL_DISABLE>;
 				};
 
 				mmc1_4bit_pins_a: mmc1-4bit@0 {
 					reg = <0>;
 					fsl,pinmux-ids = <
-						0x0001 /* MX28_PAD_GPMI_D00__SSP1_D0 */
-						0x0011 /* MX28_PAD_GPMI_D01__SSP1_D1 */
-						0x0021 /* MX28_PAD_GPMI_D02__SSP1_D2 */
-						0x0031 /* MX28_PAD_GPMI_D03__SSP1_D3 */
-						0x0141 /* MX28_PAD_GPMI_RDY0__SSP1_CARD_DETECT */
-						0x0151 /* MX28_PAD_GPMI_RDY1__SSP1_CMD */
-						0x0191 /* MX28_PAD_GPMI_WRN__SSP1_SCK */
+						MX28_PAD_GPMI_D00__SSP1_D0
+						MX28_PAD_GPMI_D01__SSP1_D1
+						MX28_PAD_GPMI_D02__SSP1_D2
+						MX28_PAD_GPMI_D03__SSP1_D3
+						MX28_PAD_GPMI_RDY0__SSP1_CARD_DETECT
+						MX28_PAD_GPMI_RDY1__SSP1_CMD
+						MX28_PAD_GPMI_WRN__SSP1_SCK
 					>;
-					fsl,drive-strength = <1>;
-					fsl,voltage = <1>;
-					fsl,pull-up = <0>;
+					fsl,drive-strength = <MXS_DRIVE_8mA>;
+					fsl,voltage = <MXS_VOLTAGE_HIGH>;
+					fsl,pull-up = <MXS_PULL_DISABLE>;
 				};
 
 				mmc1_cd_cfg: mmc1-cd-cfg {
 					fsl,pinmux-ids = <
-						0x0141 /* MX28_PAD_GPMI_RDY0__SSP1_CARD_DETECT */
+						MX28_PAD_GPMI_RDY0__SSP1_CARD_DETECT
 					>;
-					fsl,pull-up = <0>;
+					fsl,pull-up = <MXS_PULL_DISABLE>;
 				};
 
 				mmc1_sck_cfg: mmc1-sck-cfg {
 					fsl,pinmux-ids = <
-						0x0191 /* MX28_PAD_GPMI_WRN__SSP1_SCK */
+						MX28_PAD_GPMI_WRN__SSP1_SCK
 					>;
-					fsl,voltage = <1>;
-					fsl,drive-strength = <1>;
-					fsl,pull-up = <1>;
+					fsl,voltage = <MXS_VOLTAGE_HIGH>;
+					fsl,drive-strength = <MXS_DRIVE_8mA>;
+					fsl,pull-up = <MXS_PULL_ENABLE>;
 				};
 
 				pwm2_pins_a: pwm2@0 {
-					fsl,drive-strength = <1>;
-					fsl,pull-up = <1>;
+					fsl,drive-strength = <MXS_DRIVE_8mA>;
+					fsl,pull-up = <MXS_PULL_ENABLE>;
 				};
 
 				auart0_pins_a: auart0@0 {
-					fsl,drive-strength = <1>;
+					fsl,drive-strength = <MXS_DRIVE_8mA>;
 				};
 
 				auart3_pins_a: auart3@0 {
-					fsl,drive-strength = <1>;
+					fsl,drive-strength = <MXS_DRIVE_8mA>;
 				};
 			};
 
 			lcdif@80030000 {
 				pinctrl-names = "default";
 				pinctrl-0 = <&lcdif_24bit_pins_a
-						&lcdif_pins_mba28>;
+							 &lcdif_pins_mba28>;
 				display = <&display>;
 				status = "okay";
 
diff --git a/arch/arm/boot/dts/imx28-mba28l-aa.dts b/arch/arm/boot/dts/imx28-mba28l-aa.dts
index 8c18e0a..55d72ac 100644
--- a/arch/arm/boot/dts/imx28-mba28l-aa.dts
+++ b/arch/arm/boot/dts/imx28-mba28l-aa.dts
@@ -9,7 +9,7 @@
  * http://www.gnu.org/copyleft/gpl.html
  */
 
-/include/ "imx28-mba28l-ab.dts"
+#include "imx28-mba28l-ab.dts"
 
 / {
 	model = "TQ Systems TQMa28L-AA on MBa28";
@@ -21,42 +21,35 @@
 				hog_pins_aa: hog-gpios@1 {
 					reg = <0>;
 					fsl,pinmux-ids = <
-						0x30e3 /* MX28_PAD_AUART3_CTS__GPIO_3_14 */
-						0x30f3 /* MX28_PAD_AUART3_RTS__GPIO_3_15 */
-						0x40d3 /* MX28_PAD_ENET0_RX_CLK__GPIO_4_13 */
-						0x4053 /* MX28_PAD_ENET0_TX_CLK__GPIO_4_5 */
+						MX28_PAD_AUART3_CTS__GPIO_3_14
+						MX28_PAD_AUART3_RTS__GPIO_3_15
+						MX28_PAD_ENET0_RX_CLK__GPIO_4_13
+						MX28_PAD_ENET0_TX_CLK__GPIO_4_5
 					>;
-					fsl,drive-strength = <1>;
-					fsl,voltage = <1>;
-					fsl,pull-up = <0>;
+					fsl,drive-strength = <MXS_DRIVE_8mA>;
+					fsl,voltage = <MXS_VOLTAGE_HIGH>;
+					fsl,pull-up = <MXS_PULL_DISABLE>;
 				};
 
-				auart3_2pins_b: auart3-2pins@0 {
-					reg = <0>;
-					fsl,pinmux-ids = <
-						0x30c0 /* MX28_PAD_AUART3_RX__AUART3_RX */
-						0x30d0 /* MX28_PAD_AUART3_TX__AUART3_TX */
-					>;
-					fsl,drive-strength = <1>;
-					fsl,voltage = <1>;
-					fsl,pull-up = <0>;
+				auart3_2pins_b: auart3-2pins@1 {
+					fsl,drive-strength = <MXS_DRIVE_8mA>;
 				};
 
 				auart4_pins_a: auart4@0 {
 					reg = <0>;
 					fsl,pinmux-ids = <
-						0x2181 /* MX28_PAD_SSP3_SCK__AUART4_TX */
-						0x2191 /* MX28_PAD_SSP3_MOSI__AUART4_RX */
-						0x21a1 /* MX28_PAD_SSP3_MISO__AUART4_RTS */
-						0x21b1 /* MX28_PAD_SSP3_SS0__AUART4_CTS */
+						MX28_PAD_SSP3_SCK__AUART4_TX
+						MX28_PAD_SSP3_MOSI__AUART4_RX
+						MX28_PAD_SSP3_MISO__AUART4_RTS
+						MX28_PAD_SSP3_SS0__AUART4_CTS
 					>;
-					fsl,drive-strength = <1>;
-					fsl,voltage = <1>;
-					fsl,pull-up = <0>;
+					fsl,drive-strength = <MXS_DRIVE_8mA>;
+					fsl,voltage = <MXS_VOLTAGE_HIGH>;
+					fsl,pull-up = <MXS_PULL_DISABLE>;
 				};
 
 				i2c1_pins_a: i2c1@0 {
-					fsl,pull-up = <0>;
+					fsl,pull-up = <MXS_PULL_DISABLE>;
 				};
 			};
 
diff --git a/arch/arm/boot/dts/imx28-mba28l-ab.dts b/arch/arm/boot/dts/imx28-mba28l-ab.dts
index 93ee29d..a48dfdf 100644
--- a/arch/arm/boot/dts/imx28-mba28l-ab.dts
+++ b/arch/arm/boot/dts/imx28-mba28l-ab.dts
@@ -10,8 +10,7 @@
  */
 
 /dts-v1/;
-/include/ "imx28.dtsi"
-/include/ "imx28-tqma28l.dtsi"
+#include "imx28-tqma28l.dtsi"
 
 / {
 	model = "TQ Systems TQMa28L-AB on MBa28";
@@ -38,77 +37,77 @@
 				hog_pins_ab: hog-gpios@0 {
 					reg = <0>;
 					fsl,pinmux-ids = <
-						0x0103 /* MX28_PAD_GPMI_CE0N__GPIO_0_16 */
-						0x0143 /* MX28_PAD_GPMI_RDY0__GPIO_0_20 */
-						0x2043 /* MX28_PAD_SSP0_DATA4__GPIO_2_4 */
+						MX28_PAD_GPMI_CE0N__GPIO_0_16
+						MX28_PAD_GPMI_RDY0__GPIO_0_20
+						MX28_PAD_SSP0_DATA4__GPIO_2_4
 					>;
-					fsl,drive-strength = <1>;
-					fsl,voltage = <1>;
-					fsl,pull-up = <0>;
+					fsl,drive-strength = <MXS_DRIVE_8mA>;
+					fsl,voltage = <MXS_VOLTAGE_HIGH>;
+					fsl,pull-up = <MXS_PULL_DISABLE>;
 				};
 
 				auart0_pins_b: auart0@0 {
 					reg = <0>;
 					fsl,pinmux-ids = <
-						0x3000 /* MX28_PAD_AUART0_RX__AUART0_RX */
-						0x3010 /* MX28_PAD_AUART0_TX__AUART0_TX */
-						0x3030 /* MX28_PAD_AUART0_RTS__AUART0_RTS */
+						MX28_PAD_AUART0_RX__AUART0_RX
+						MX28_PAD_AUART0_TX__AUART0_TX
+						MX28_PAD_AUART0_RTS__AUART0_RTS
 					>;
-					fsl,drive-strength = <1>;
-					fsl,voltage = <1>;
-					fsl,pull-up = <0>;
+					fsl,drive-strength = <MXS_DRIVE_8mA>;
+					fsl,voltage = <MXS_VOLTAGE_HIGH>;
+					fsl,pull-up = <MXS_PULL_DISABLE>;
 				};
 
 				lcdif_pins_mba28l: lcdif-evk@0 {
 					reg = <0>;
 					fsl,pinmux-ids = <
-						0x1181 /* MX28_PAD_LCD_RD_E__LCD_VSYNC*/
-						0x1191 /* MX28_PAD_LCD_WR_RWN__LCD_HSYNC */
-						0x11a1 /* MX28_PAD_LCD_RS__LCD_DOTCLK*/
-						0x11b1 /* MX28_PAD_LCD_CS__LCD_ENABLE */
-						0x31e0 /* MX28_PAD_LCD_RESET__LCD_RESET - must be gpio? */
+						MX28_PAD_LCD_RD_E__LCD_VSYNC
+						MX28_PAD_LCD_WR_RWN__LCD_HSYNC
+						MX28_PAD_LCD_RS__LCD_DOTCLK
+						MX28_PAD_LCD_CS__LCD_ENABLE
+						MX28_PAD_LCD_RESET__LCD_RESET /* must be gpio? */
 					>;
-					fsl,drive-strength = <1>;
-					fsl,voltage = <1>;
-					fsl,pull-up = <0>;
+					fsl,drive-strength = <MXS_DRIVE_8mA>;
+					fsl,voltage = <MXS_VOLTAGE_HIGH>;
+					fsl,pull-up = <MXS_PULL_DISABLE>;
 				};
 
 				lcdif_24bit_pins_a: lcdif-24bit@0 {
-					fsl,drive-strength = <1>;
+					fsl,drive-strength = <MXS_DRIVE_8mA>;
 				};
 
 				mmc0_4bit_pins_a: mmc0-4bit@0 {
-					fsl,pull-up = <0>;
+					fsl,pull-up = <MXS_PULL_DISABLE>;
 				};
 
 				mmc0_sck_cfg: mmc0-sck-cfg {
-					fsl,voltage = <1>;
-					fsl,drive-strength = <1>;
-					fsl,pull-up = <1>;
+					fsl,voltage = <MXS_VOLTAGE_HIGH>;
+					fsl,drive-strength = <MXS_DRIVE_8mA>;
+					fsl,pull-up = <MXS_PULL_ENABLE>;
 				};
 
 				i2c0_pins_a: i2c0@0 {
-					fsl,pull-up = <0>;
+					fsl,pull-up = <MXS_PULL_DISABLE>;
 				};
 
 				pwm4_pins_a: pwm4@0 {
-					fsl,drive-strength = <1>;
-					fsl,pull-up = <1>;
+					fsl,drive-strength = <MXS_DRIVE_8mA>;
+					fsl,pull-up = <MXS_PULL_ENABLE>;
 				};
 
 				auart0_pins_a: auart0@0 {
-					fsl,drive-strength = <1>;
+					fsl,drive-strength = <MXS_DRIVE_8mA>;
 				};
 
 				auart1_2pins_a: auart1-2pins@0 {
-					fsl,drive-strength = <1>;
+					fsl,drive-strength = <MXS_DRIVE_8mA>;
 				};
 			};
 
 			lcdif@80030000 {
 				pinctrl-names = "default";
 				pinctrl-0 = <&lcdif_24bit_pins_a
-						&lcdif_pins_mba28l>;
+							 &lcdif_pins_mba28l>;
 				display = <&display>;
 				status = "okay";
 
diff --git a/arch/arm/boot/dts/imx28-tqma28.dtsi b/arch/arm/boot/dts/imx28-tqma28.dtsi
index ee73028..a4f1ea9 100644
--- a/arch/arm/boot/dts/imx28-tqma28.dtsi
+++ b/arch/arm/boot/dts/imx28-tqma28.dtsi
@@ -34,32 +34,32 @@
 				mmc0_8bit_pins_b: mmc0-8bit@0 {
 					reg = <0>;
 					fsl,pinmux-ids = <
-						0x2000 /* MX28_PAD_SSP0_DATA0__SSP0_D0 */
-						0x2010 /* MX28_PAD_SSP0_DATA1__SSP0_D1 */
-						0x2020 /* MX28_PAD_SSP0_DATA2__SSP0_D2 */
-						0x2030 /* MX28_PAD_SSP0_DATA3__SSP0_D3 */
-						0x2040 /* MX28_PAD_SSP0_DATA4__SSP0_D4 */
-						0x2050 /* MX28_PAD_SSP0_DATA5__SSP0_D5 */
-						0x2060 /* MX28_PAD_SSP0_DATA6__SSP0_D6 */
-						0x2070 /* MX28_PAD_SSP0_DATA7__SSP0_D7 */
+						MX28_PAD_SSP0_DATA0__SSP0_D0
+						MX28_PAD_SSP0_DATA1__SSP0_D1
+						MX28_PAD_SSP0_DATA2__SSP0_D2
+						MX28_PAD_SSP0_DATA3__SSP0_D3
+						MX28_PAD_SSP0_DATA4__SSP0_D4
+						MX28_PAD_SSP0_DATA5__SSP0_D5
+						MX28_PAD_SSP0_DATA6__SSP0_D6
+						MX28_PAD_SSP0_DATA7__SSP0_D7
 					>;
-					fsl,drive-strength = <0>;
-					fsl,voltage = <1>;
-					fsl,pull-up = <1>;
+					fsl,drive-strength = <MXS_DRIVE_4mA>;
+					fsl,voltage = <MXS_VOLTAGE_HIGH>;
+					fsl,pull-up = <MXS_PULL_ENABLE>;
 				};
 
 				mmc0_cmd_cfg: mmc0-cmd-cfg {
 					fsl,pinmux-ids = <
-						0x2080 /* MX28_PAD_SSP0_CMD__SSP0_CMD */
+						MX28_PAD_SSP0_CMD__SSP0_CMD
 					>;
-					fsl,drive-strength = <1>;
-					fsl,voltage = <1>;
-					fsl,pull-up = <1>;
+					fsl,drive-strength = <MXS_DRIVE_8mA>;
+					fsl,voltage = <MXS_VOLTAGE_HIGH>;
+					fsl,pull-up = <MXS_PULL_ENABLE>;
 				};
 
 				mmc0_sck_cfg: mmc0-sck-cfg {
-					fsl,drive-strength = <1>;
-					fsl,voltage = <1>;
+					fsl,drive-strength = <MXS_DRIVE_8mA>;
+					fsl,voltage = <MXS_VOLTAGE_HIGH>;
 				};
 			};
 		};
diff --git a/arch/arm/boot/dts/imx28-tqma28l.dtsi b/arch/arm/boot/dts/imx28-tqma28l.dtsi
index 4e2f7a0..f024554 100644
--- a/arch/arm/boot/dts/imx28-tqma28l.dtsi
+++ b/arch/arm/boot/dts/imx28-tqma28l.dtsi
@@ -9,7 +9,7 @@
  * http://www.gnu.org/copyleft/gpl.html
  */
 
-/include/ "imx28.dtsi"
+#include "imx28.dtsi"
 
 / {
 	memory {
@@ -35,31 +35,31 @@
 				mmc1_8bit_pins_a: mmc1-8bit@0 {
 					reg = <0>;
 					fsl,pinmux-ids = <
-						0x0001 /* MX28_PAD_GPMI_D00__SSP1_D0 */
-						0x0011 /* MX28_PAD_GPMI_D01__SSP1_D1 */
-						0x0021 /* MX28_PAD_GPMI_D02__SSP1_D2 */
-						0x0031 /* MX28_PAD_GPMI_D03__SSP1_D3 */
-						0x0041 /* MX28_PAD_GPMI_D04__SSP1_D4 */
-						0x0051 /* MX28_PAD_GPMI_D05__SSP1_D5 */
-						0x0061 /* MX28_PAD_GPMI_D06__SSP1_D6 */
-						0x0071 /* MX28_PAD_GPMI_D07__SSP1_D7 */
+						MX28_PAD_GPMI_D00__SSP1_D0
+						MX28_PAD_GPMI_D01__SSP1_D1
+						MX28_PAD_GPMI_D02__SSP1_D2
+						MX28_PAD_GPMI_D03__SSP1_D3
+						MX28_PAD_GPMI_D04__SSP1_D4
+						MX28_PAD_GPMI_D05__SSP1_D5
+						MX28_PAD_GPMI_D06__SSP1_D6
+						MX28_PAD_GPMI_D07__SSP1_D7
 					>;
-					fsl,drive-strength = <0>;
-					fsl,voltage = <1>;
-					fsl,pull-up = <1>;
+					fsl,drive-strength = <MXS_DRIVE_4mA>;
+					fsl,voltage = <MXS_VOLTAGE_HIGH>;
+					fsl,pull-up = <MXS_PULL_ENABLE>;
 				};
 
 				mmc1_cmd_cfg: mmc1-cmd-cfg {
 					fsl,pinmux-ids = <
-						0x0151 /* MX28_PAD_GPMI_RDY1__SSP1_CMD */
+						MX28_PAD_GPMI_RDY1__SSP1_CMD
 					>;
-					fsl,drive-strength = <1>;
-					fsl,voltage = <1>;
-					fsl,pull-up = <1>;
+					fsl,drive-strength = <MXS_DRIVE_8mA>;
+					fsl,voltage = <MXS_VOLTAGE_HIGH>;
+					fsl,pull-up = <MXS_PULL_ENABLE>;
 				};
 
 				mmc1_sck_cfg: mmc1-sck-cfg {
-					fsl,voltage = <1>;
+					fsl,voltage = <MXS_VOLTAGE_HIGH>;
 				};
 			};
 		};
-- 
1.7.10.4

