From 735ad1cb1f4e19673db626fe4f391a97c5758b45 Mon Sep 17 00:00:00 2001
From: Michael Krummsdorf <michael.krummsdorf@tq-group.com>
Date: Wed, 28 May 2014 14:42:17 +0200
Subject: [PATCH] arm: mxs: add oui_tqs and use for tqma28

Signed-off-by: Michael Krummsdorf <michael.krummsdorf@tq-group.com>
---
 arch/arm/mach-mxs/mach-mxs.c |    9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

--- a/arch/arm/mach-mxs/mach-mxs.c
+++ b/arch/arm/mach-mxs/mach-mxs.c
@@ -158,6 +158,7 @@ enum mac_oui {
 	OUI_DENX,
 	OUI_CRYSTALFONTZ,
 	OUI_I2SE,
+	OUI_TQS,
 };
 
 static void __init update_fec_mac_prop(enum mac_oui oui)
@@ -217,6 +218,11 @@ static void __init update_fec_mac_prop(e
 			macaddr[1] = 0x01;
 			macaddr[2] = 0x87;
 			break;
+		case OUI_TQS:
+			macaddr[0] = 0x00;
+			macaddr[1] = 0xd0;
+			macaddr[2] = 0x93;
+			break;
 		}
 		val = ocotp[i];
 		macaddr[3] = (val >> 16) & 0xff;
@@ -348,7 +354,8 @@ static void __init tqma28_init(void)
 	void __iomem *addr;
 	struct clk *ref_pix, *lcdif_sel;
 
-	/* TODO: update_fec_mac_prop(OUI_TQS); */
+	update_fec_mac_prop(OUI_TQS);
+
 	lcdif_sel = clk_get_sys(NULL, "lcdif_sel");
 	ref_pix = clk_get_sys(NULL, "ref_pix");
 	if (IS_ERR(lcdif_sel) || IS_ERR(ref_pix))
